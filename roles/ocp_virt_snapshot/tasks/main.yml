---
# OCP Virtualization Snapshot Role - Main Entry Point
# Updated: December 15, 2025 - AAP Compatible
# This role creates snapshots for KubeVirt virtual machines in OpenShift

- name: Validate required variables
  ansible.builtin.assert:
    that:
      - vm_name is defined
      - vm_namespace is defined
    fail_msg: "Required variables (vm_name, vm_namespace) must be defined"
    success_msg: "All required variables are defined"
  tags:
    - always
    - validation
    - ocp_virt_snapshot

- name: Include create snapshot tasks
  ansible.builtin.include_tasks: create.yml
  tags:
    - create
    - snapshot
    - ocp_virt_snapshot
